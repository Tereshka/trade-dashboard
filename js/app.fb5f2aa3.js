(function(t){function e(e){for(var n,o,i=e[0],s=e[1],l=e[2],d=0,h=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&h.push(r[o][0]),r[o]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n]);u&&u(e);while(h.length)h.shift()();return c.push.apply(c,l||[]),a()}function a(){for(var t,e=0;e<c.length;e++){for(var a=c[e],n=!0,i=1;i<a.length;i++){var s=a[i];0!==r[s]&&(n=!1)}n&&(c.splice(e--,1),t=o(o.s=a[0]))}return t}var n={},r={app:0},c=[];function o(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=n,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(a,n,function(e){return t[e]}.bind(null,n));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/trade-dashboard/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=s;c.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0338":function(t,e,a){"use strict";var n=a("5e96"),r=a.n(n);r.a},"034f":function(t,e,a){"use strict";var n=a("85ec"),r=a.n(n);r.a},"1ccf":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n,r=a("2b0e"),c=a("bc3a"),o=a.n(c),i=a("5c96"),s=a.n(i),l=(a("3d5b"),a("0fae"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("el-container",[a("el-header",{attrs:{height:"100"}},[a("header-menu")],1),a("el-main",[a("tabs-container")],1)],1)],1)}),u=[],d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",{attrs:{gutter:20}},[a("el-col",[a("h1",{staticClass:"heading",attrs:{align:"left"}},[t._v("TRADE DASHBOARD")])])],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("selector",{attrs:{list:t.fullExchangesList,title:"Select EXCHANGE from the list",type:"selectedExchange"}})],1),a("el-col",{attrs:{span:12}},[a("selector",{attrs:{list:t.marketsList,title:"Select MARKET from the list",type:"selectedMarket"}})],1)],1)],1)},h=[],f=a("5530"),p=a("2f62"),b=(a("99af"),a("d81d"),a("ade3"));r["default"].use(p["a"]);var m,g,v="SET_EXCHANGES_LIST",k="SET_MARKETS_LIST",y="SET_SELECTED_ITEM",O=new p["a"].Store({state:{fullExchangesList:[],fullMarketsList:[],selectedExchange:"",selectedMarket:""},getters:{marketsList:function(t){return t.fullMarketsList.map((function(t){return{exchangeId:t.exchangeId,baseId:t.baseId,baseSymbol:t.baseSymbol,quoteId:t.quoteId,quoteSymbol:t.quoteSymbol,name:"".concat(t.baseId,"/").concat(t.quoteId)}}))}},mutations:(n={},Object(b["a"])(n,v,(function(t,e){t.fullExchangesList=e})),Object(b["a"])(n,k,(function(t,e){t.fullMarketsList=e})),Object(b["a"])(n,y,(function(t,e){var a=e.type,n=e.value;t[a]=n})),n),actions:{},modules:{}}),S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-select",{staticStyle:{width:"100%"},attrs:{disabled:0===t.list.length,clearable:"",filterable:"",placeholder:t.placeholder},on:{change:t.handleChange},model:{value:t.selectedItem,callback:function(e){t.selectedItem=e},expression:"selectedItem"}},t._l(t.list,(function(t,e){return a("el-option",{key:"option-"+t.name+"-"+e,attrs:{value:t.name,label:t.name}})})),1)},_=[],x={props:{list:{type:Array,default:function(){return[]}},title:{type:String,default:"Select item from the list"},type:{type:String,default:null}},computed:{placeholder:function(){return 0===this.list.length?"Sorry, no available data":this.title}},data:function(){return{selectedItem:""}},watch:{list:function(){0===this.list.length&&(this.selectedItem="")}},methods:Object(f["a"])(Object(f["a"])({},Object(p["c"])([y])),{},{handleChange:function(t){this[y]({type:this.type,value:t})}})},w=x,E=a("2877"),D=Object(E["a"])(w,S,_,!1,null,null,null),j=D.exports,C={components:{selector:j},computed:Object(f["a"])(Object(f["a"])({},Object(p["d"])(["fullExchangesList","selectedExchange"])),Object(p["b"])(["marketsList"])),watch:{selectedExchange:function(){this[y]({type:"selectedMarket",value:""}),this[k]([]),""!==this.selectedExchange&&this.loadMarkets()}},created:function(){this.loadEchanges()},methods:Object(f["a"])(Object(f["a"])({},Object(p["c"])([v,k,y])),{},{loadEchanges:function(){var t=this;this.$http.get("https://api.coincap.io/v2/exchanges").then((function(e){t[v](e.data.data)})).catch((function(t){return console.log(t)}))},loadMarkets:function(){var t=this;this.$http.get("https://api.coincap.io/v2/markets",{params:{exchangeId:this.selectedExchange.toLowerCase(),limit:2e3}}).then((function(e){t[k](e.data.data)})).catch((function(t){return console.log(t)}))}})},T=C,L=(a("0338"),Object(E["a"])(T,d,h,!1,null,null,null)),M=L.exports,I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-tabs",{attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"OHLC CHART"}},[a("chart-tab")],1),a("el-tab-pane",{attrs:{label:"REAL TIME PRICES"}},[a("price-tab")],1)],1)},$=[],A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",[a("el-col",{attrs:{span:24}},[a("div",[t._v(" Please, select EXCHANGE and MARKET above for loading data "),a("el-divider")],1)])],1),a("el-row",{attrs:{id:"chart-row"}},[a("el-col",{attrs:{span:24,align:"center"}},[a("chart-component",{attrs:{chartData:t.chartData,title:t.selectedMarket}})],1)],1)],1)},R=[],P=(a("ac1f"),a("1276"),a("3835")),H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("trading-vue",{attrs:{data:t.chartData,width:t.width,height:t.height,"chart-config":t.config,"title-txt":t.title,toolbar:!0,overlays:t.overlays,"color-back":t.colors.back,"color-grid":t.colors.grid,"color-text":t.colors.text,"color-title":t.colors.tvTitle}})},W=[],U=a("0042"),q=a.n(U),V=a("b85c"),B={mixins:[U["Overlay"]],methods:{meta_info:function(){return{author:"CyberFist",version:"1.0.0"}},draw:function(t){t.lineWidth=this.line_width,t.strokeStyle=this.color,t.beginPath();var e,a=this.$props.layout,n=this.data_index,r=Object(V["a"])(this.$props.data);try{for(r.s();!(e=r.n()).done;){var c=e.value,o=a.t2screen(c[0]),i=a.$2screen(c[n]);t.lineTo(o,i)}}catch(s){r.e(s)}finally{r.f()}t.stroke()},use_for:function(){return["ChartOverlay"]},data_colors:function(){return[this.color]}},computed:{sett:function(){return this.$props.settings},line_width:function(){return this.sett.lineWidth||3},color:function(){var t=this.$props.num%5;return this.sett.color||this.COLORS[t]},data_index:function(){return this.sett.dataIndex||1}},data:function(){return{COLORS:["#5691ce","#612ff9","#d50b90","#ff2316"]}}},N=B,F=Object(E["a"])(N,m,g,!1,null,null,null),G=F.exports,J={props:{chartData:{type:Object,default:function(){}},title:{type:String,default:""}},components:{"trading-vue":q.a},data:function(){return{chart:new U["DataCube"](this.chartData),overlays:[G],width:1e3,height:600,colors:["#5691ce","#612ff9","#d50b90","#ff2316"],config:{}}}},K=J,X=Object(E["a"])(K,H,W,!1,null,null,null),z=X.exports,Q={components:{"chart-component":z},data:function(){return{chartData:{},loadingInstance:null}},computed:Object(f["a"])({},Object(p["d"])(["selectedExchange","selectedMarket"])),watch:{selectedExchange:function(){""!==this.selectedExchange&&""!==this.selectedMarket?this.loadChartData():this.chartData={}},selectedMarket:function(){""!==this.selectedExchange&&""!==this.selectedMarket?this.loadChartData():this.chartData={}}},methods:{loadChartData:function(){var t=this;this.loadingInstance=i["Loading"].service({text:"Loading data",background:"rgba(0, 0, 0, 0.8)",spinner:"el-icon-loading",target:"#chart-row"});var e=this.selectedMarket.split("/"),a=Object(P["a"])(e,2),n=a[0],r=a[1];this.$http.get("https://api.coincap.io/v2/candles",{params:{exchange:this.selectedExchange.toLowerCase(),interval:"h8",baseId:n,quoteId:r}}).then((function(e){t.makeChartData(e.data.data)})).catch((function(t){return console.log(t)}))},makeChartData:function(t){var e=t.map((function(t){return[t.period,+t.open,+t.high,+t.low,+t.close,+t.volume]}));this.chartData={chart:{data:e,settings:{color:"#1baddd"},grid:{}}},this.loadingInstance.close()}}},Y=Q,Z=Object(E["a"])(Y,A,R,!1,null,null,null),tt=Z.exports,et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("span",{staticClass:"title"},[t._v("Press START button for realtime update price")]),a("el-button",{attrs:{type:t.buttonType},on:{click:t.handleButtonClick}},[t._v(" "+t._s(t.buttonText)+" ")]),a("el-divider"),a("price-table",{attrs:{tableData:t.tableData}}),a("el-button",{attrs:{type:"primary"},on:{click:t.showMoreData}},[t._v(" SHOW MORE ")])],1)},at=[],nt=(a("7db0"),a("4160"),a("b64b"),a("159b"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.filterData,fit:"",height:"60vh"}},[a("el-table-column",{attrs:{prop:"rank"},scopedSlots:t._u([{key:"header",fn:function(e){return[a("div",{on:{click:function(e){return t.handleClickHeader("rank")}}},[a("span",[t._v("Rank")]),a("i",{staticClass:"el-icon-d-caret"})])]}}])}),a("el-table-column",{attrs:{prop:"name"},scopedSlots:t._u([{key:"header",fn:function(e){return[a("div",{on:{click:function(e){return t.handleClickHeader("name")}}},[a("span",[t._v("Name")]),a("i",{staticClass:"el-icon-d-caret"})])]}}])}),a("el-table-column",{attrs:{prop:"symbol"},scopedSlots:t._u([{key:"header",fn:function(e){return[a("div",{on:{click:function(e){return t.handleClickHeader("symbol")}}},[a("span",[t._v("Symbol")]),a("i",{staticClass:"el-icon-d-caret"})])]}}])}),a("el-table-column",{attrs:{prop:"priceUsd"},scopedSlots:t._u([{key:"header",fn:function(e){return[a("el-input",{attrs:{size:"mini",placeholder:"Type name to search"},model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}},[a("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"prefix"},slot:"prefix"}),a("i",{staticClass:"el-input__icon el-icon-circle-close",attrs:{slot:"suffix"},on:{click:t.clearSearchField},slot:"suffix"})]),a("div",{on:{click:function(e){return t.handleClickHeader("priceUsd")}}},[a("span",[t._v("Price")]),a("i",{staticClass:"el-icon-d-caret"})])]}},{key:"default",fn:function(e){return[a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s("$"+(+e.row.priceUsd).toFixed(8)))])]}}])})],1)}),rt=[],ct=(a("4de4"),a("caad"),a("b0c0"),a("2532"),{props:{tableData:{type:Array,default:function(){return[]}}},data:function(){return{orderBy:"rank",orderDirection:"asc",searchValue:""}},computed:{filterData:function(){var t=this,e=this.tableData.filter((function(e){return e.name.toLowerCase().includes(t.searchValue.toLowerCase())}));return e}},methods:{handleClickHeader:function(t){this.handleSortData(t),this.orderBy=t,this.orderDirection="asc"===this.orderDirection?"desc":"asc"},handleSortData:function(t){var e=this;"name"!==t&&"symbol"!==t||this.tableData.sort((function(a,n){if("asc"===e.orderDirection){if(a[t]<n[t])return-1;if(a[t]>n[t])return 1}else{if(a[t]>n[t])return-1;if(a[t]<n[t])return 1}return 0})),"rank"!==t&&"priceUsd"!==t||this.tableData.sort((function(a,n){return"asc"===e.orderDirection?+a[t]-+n[t]:+n[t]-+a[t]}))},clearSearchField:function(){this.searchValue=""}}}),ot=ct,it=Object(E["a"])(ot,nt,rt,!1,null,null,null),st=it.exports,lt={components:{"price-table":st},data:function(){return{isTableOnline:!1,webSocket:null,wsUrl:"wss://ws.coincap.io/prices?assets=ALL",tableData:[],tableLimit:50}},computed:Object(f["a"])(Object(f["a"])({},Object(p["d"])(["selectedExchange","selectedMarket"])),{},{buttonText:function(){return this.isTableOnline?"STOP":"START"},buttonType:function(){return this.isTableOnline?"danger":"success"}}),created:function(){this.loadAssets()},methods:{handleButtonClick:function(){return this.isTableOnline?this.closeWebsocket():this.startWebsocket()},showMoreData:function(){this.tableLimit+=50,this.loadAssets()},loadAssets:function(){var t=this;this.$http.get("https://api.coincap.io/v2/assets",{params:{limit:this.tableLimit}}).then((function(e){t.tableData=e.data.data})).catch((function(t){return console.log(t)}))},startWebsocket:function(){var t=this;this.isTableOnline=!0,this.webSocket=new WebSocket(this.wsUrl),this.webSocket.onopen=function(){console.log("Connected websocket")},this.webSocket.onmessage=function(e){var a=JSON.parse(e.data);t.updateTableData(a)},this.webSocket.onclose=function(t){console.log("Socket is closed",t.reason)},this.webSocket.onerror=function(e){console.error("Socket encountered error: ",e.message,"Closing socket"),t.isTableOnline=!1,t.webSocket.close()}},closeWebsocket:function(){null!==this.webSocket&&(this.isTableOnline=!1,this.webSocket.close())},updateTableData:function(t){var e=this;Object.keys(t).forEach((function(a){var n=e.tableData.find((function(t){return t.id===a}));n&&(n.priceUsd=t[a])}))}}},ut=lt,dt=(a("cefe"),Object(E["a"])(ut,et,at,!1,null,null,null)),ht=dt.exports,ft={components:{"chart-tab":tt,"price-tab":ht}},pt=ft,bt=Object(E["a"])(pt,I,$,!1,null,null,null),mt=bt.exports,gt={components:{"header-menu":M,"tabs-container":mt}},vt=gt,kt=(a("034f"),Object(E["a"])(vt,l,u,!1,null,null,null)),yt=kt.exports;r["default"].config.productionTip=!1,r["default"].prototype.$http=o.a,r["default"].use(s.a),new r["default"]({store:O,render:function(t){return t(yt)}}).$mount("#app")},"5e96":function(t,e,a){},"85ec":function(t,e,a){},cefe:function(t,e,a){"use strict";var n=a("1ccf"),r=a.n(n);r.a}});
//# sourceMappingURL=app.fb5f2aa3.js.map